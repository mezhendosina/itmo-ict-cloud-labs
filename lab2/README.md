# lab 2

## Bad Practices В Dockerfile
- Лучше не использовать latest при добавлении base image. Потому нельзя гарантировать, что при каждом новом билде докерфайла не сломается содержимое контейнера из-за внезапного обновления base image
- Не стоит хранить секреты в докерфайле. Он никак не защищен и получить доступ к нему может кто угодно, а кто угодно, значит и плохие дяди тоже :(
- Стоит в начале указывать WORKDIR, чтобы явно указать себе и докеру, в какой папке мы работаем. Лучше хранить все исходники в отдельной папке, которая находится в корне, чем держать исходники в корне, которые будут соседствовать с системными файлами. Есть риск случайно сделать ``rm -rf`` и сломать image

## Как чинить?
- Явно определить версию base image. Например, 3.9-lite. Она считается стабильной + из нее убрали лишнего, чтобы получишвейся image был еще меньше
- Использовать Docker secrets
- Явно указать WORKDIR

## Как не стоит делать докер?
1. Не надо хранить данные в контейнерах, т.к. их можно потерять при перезапуске контейнера
2. Не стоит запускать контейнеры с правами, которые им не нужны. Это обезопасит от непредвиденного поведения контейнера и в принципе повысит безопасность сервера

## Вывод
Сделать два докерфайла, вспомнил best practices в докере
